(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){e.exports=t(39)},21:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var a=t(0),c=t.n(a),r=t(13),u=t.n(r),l=(t(21),t(14)),o=t(2),i=function(e){var n=e.addContact,t=e.newName,a=e.handleNameChange,r=e.newNumber,u=e.handleNumberChange;return c.a.createElement("div",{className:"form-container"},c.a.createElement("form",{onSubmit:n},c.a.createElement("div",null,"name: ",c.a.createElement("input",{value:t,onChange:a})),c.a.createElement("div",null,"number: ",c.a.createElement("input",{value:r,onChange:u})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit"},"add contact"))))},m=function(e){var n=e.contacts,t=e.handleDeleteClick;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Contacts"),c.a.createElement("div",null,c.a.createElement("ul",null,n.map(function(e){return c.a.createElement("div",{key:e.id,className:"list-item-container"},c.a.createElement("li",null,e.name," ",e.number),c.a.createElement("button",{onClick:function(){return t(e.id)}},"delete"))}))))},s=function(e){var n=e.filter,t=e.handleFilterChange,a=e.filterResult;return c.a.createElement("div",null,"search by name: ",c.a.createElement("input",{value:n,onChange:t}),c.a.createElement("ul",null,""===n?c.a.createElement("div",null):a.map(function(e){return c.a.createElement("li",{key:e.name},e.name," ",e.number)})))},f=function(e){var n=e.errorMessage,t=e.successMessage;if(null===n&&null===t)return null;var a=null===n?"success-message":"error-message";return null!==n&&null===t?c.a.createElement("div",{className:a},n):c.a.createElement("div",{className:a},t)},d=t(3),h=t.n(d),b="/api/persons",E=function(){return h.a.get(b).then(function(e){return e.data})},g=function(e){return h.a.post(b,e).then(function(e){return e.data})},v=function(e){return h.a.delete("".concat(b,"/").concat(e)).then(function(e){return e.data})},p=function(e,n){return h.a.put("".concat(b,"/").concat(e),n).then(function(e){return e.data})},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],u=Object(a.useState)(""),d=Object(o.a)(u,2),h=d[0],b=d[1],w=Object(a.useState)(""),C=Object(o.a)(w,2),j=C[0],O=C[1],N=Object(a.useState)(""),k=Object(o.a)(N,2),S=k[0],y=k[1],T=Object(a.useState)([]),D=Object(o.a)(T,2),F=D[0],M=D[1],R=Object(a.useState)(null),x=Object(o.a)(R,2),J=x[0],U=x[1],q=Object(a.useState)(null),B=Object(o.a)(q,2),I=B[0],P=B[1];Object(a.useEffect)(function(){E().then(function(e){return r(e)})},[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Phonebook"),c.a.createElement(f,{errorMessage:I,successMessage:J}),c.a.createElement(s,{filter:S,handleFilterChange:function(e){var n=e.target.value;y(n);var a=new RegExp("".concat(n),"gi");M(t.filter(function(e){return e.name.match(a)}))},filterResult:F}),c.a.createElement(i,{addContact:function(e){e.preventDefault();var n=t.find(function(e){return e.name===h});if(n){if(window.confirm("Update contact information for ".concat(n.name,"?"))){var a=n.id,c=Object(l.a)({},n,{number:j});p(a,c).then(function(e){r(t.map(function(n){return n.id!==a?n:e})),U("Contact information updated for ".concat(e.name," successfully.")),setTimeout(function(){U(null)},5e3)}).catch(function(e){P("Update failed with message: ".concat(e.message)),setTimeout(function(){P(null)},5e3),r(t.filter(function(e){return e.id!==a}))})}}else{var u={name:h,number:j,id:t.length+1};g(u).then(function(e){r(t.concat(e)),b(""),O(""),U("New Contact added: ".concat(e.name,".")),setTimeout(function(){U(null)},5e3)}).catch(function(e){P("Creation failed with message: ".concat(e.response.data.error)),setTimeout(function(){P(null)},5e3)})}},newName:h,handleNameChange:function(e){b(e.target.value)},newNumber:j,handleNumberChange:function(e){O(e.target.value)}}),c.a.createElement(m,{contacts:t,handleDeleteClick:function(e){var n=t.find(function(n){return n.id===e});window.confirm("Delete contact information for ".concat(n.name,"?"))&&v(e).then(function(a){r(t.filter(function(n){return n.id!==e})),U("Contact information for ".concat(n.name," deleted successfully.")),setTimeout(function(){U(null)},5e3)}).catch(function(e){P("Request failed with an error message: ".concat(e.message)),setTimeout(function(){P(null)},5e3)})}}))};u.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.b874a90c.chunk.js.map